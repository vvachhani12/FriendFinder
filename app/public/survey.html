<!DOCTYPE html>
<html>
<head>
    <title>Survey</title>
    <!--------------------BootStrap CSS ---------------------->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!------------------- Materialize CSS -------------------->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    
    <!---------------------- Jquery CDN --------------------------->
    <!-- <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script> -->
</head>
<body>
    <div class="container">
        <h1>Survey Questions</h1> <hr>
        <h3><strong>About you</strong></h3>  
        <div>
            <div class="form-group">
                <label for="exampleInputEmail1">Name (Requried)</label>
                <input type="email" class="form-control" id="surveyName">        
            </div>
            <div class="form-group">
                <label for="exampleInputPassword1">Link to Photo Image (Required)</label>
                <input type="link" class="form-control" id="surveyImage">
            </div>
        </div> <hr>
        <div>
            <div class="card-body">
                <h3>Question 1</h3>
                <h5>Your mind is always buzzing with unexplored ideas and plans.</h5>
                <select id="option1">
                    <option value="" disabled selected>Select an Option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="card-body">
                <h3>Question 2</h3>
                <h5>Generally speaking, you rely more on your experience than your imagination.</h5>
                <select id="option2">
                    <option value="" disabled selected>Select an Option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="card-body">
                <h3>Question 3</h3>
                <h5>You find it easy to stay relaxed and focused even when there is some pressure.</h5>
                <select id="option3">
                    <option value="" disabled selected>Select an Option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="card-body">
                <h3>Question 4</h3>
                <h5>You rarely do something just out of sheer curiosity.</h5>
                <select id="option4">
                    <option value="" disabled selected>Select an Option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="card-body">
                <h3>Question 5</h3>
                <h5>People can rarely upset you.</h5>
                <select id="option5">
                    <option value="" disabled selected>Select an Option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>>
                </select>
            </div>
            <div class="card-body">
                <h3>Question 6</h3>
                <h5>It is often difficult for you to relate to other people’s feelings.</h5>
                <select id="option6">
                    <option value="" disabled selected>Select an Option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="card-body">
                <h3>Question 7</h3>
                <h5>In a discussion, truth should be more important than people’s sensitivities.</h5>
                <select id="option7">
                    <option value="" disabled selected>Select an Option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="card-body">
                <h3>Question 8</h3>
                <h5>You rarely get carried away by fantasies and ideas.</h5>
                <select id="option8">
                    <option value="" disabled selected>Select an Option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="card-body">
                <h3>Question 9</h3>
                <h5>You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</h5>
                <select id="option9">
                    <option value="" disabled selected>Select an Option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="card-body">
                <h3>Question 10</h3>
                <h5>You feel more energetic after spending time with a group of people.</h5>
                <select id="option10">
                    <option value="" selected="selected">Select an Option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                </select>
            </div>
            <div class="card">
                <input class="btn btn-primary" id="submit" type="submit" value="Submit">
            </div> <hr>
        </div>
         <!-- Modal -->
        <div class="modal fade" id="myModal" role="dialog">
            <div class="modal-dialog">
        
          <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title text-center">You Matched with</h4>
                </div>
                <div class="modal-body">
                <p id="modalText"></p>
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal" id="close">Close</button>
                </div>
            </div>
        </div>
      </div>
        <footer class="footer">
            <div class="container">
                <p>
                    <a href="/api/friends">API Friends List</a>
                     | 
                    <a href="https://github.com/vvachhani12/FriendFinder">Github Repo</a>
                </p>
            </div>
        </footer>
    </div>   

    <script type="text/javascript">
        // var people = [];
        $("#submit").on("click", function(data){
            data.preventDefault();
            $("#myModal").modal({
                show: true,
                // dismissible: true, // Modal can be dismissed by clicking outside of the modal
                // opacity: .5, // Opacity of modal background
                // inDuration: 300, // Transition in duration
                // outDuration: 200, // Transition out duration
                // startingTop: '4%', // Starting top style attribute
                // endingTop: '10%' // Ending top style attribute
            });

            $("#close").on("click", function(data){
                // data.preventDefault;
                $("#myModal").modal('hide');
            })
            var peopleData = {
                name: $("#surveyName").val(),
                photo: $("#surveyImage").val(),
                scores: [
                    $('#option1').val(),
                    $("#option2").val(),
                    $("#option3").val(),
                    $("#option4").val(),
                    $("#option5").val(),
                    $("#option6").val(),
                    $("#option7").val(),
                    $("#option8").val(),
                    $("#option9").val(),
                    $("#option10").val(),
                ]
            }
            // people.push(peopleData);
            // console.log(people);
            // let currentURL = window.location.origin;
            // console.log(currentURL);

            $.post("/api/friends", peopleData).then(function(data){
                console.log(data);
                $("#myModal").modal('open');    
                $("#modalText").text(data.name);         
            });
            

        })
    </script>

</body>
</html>